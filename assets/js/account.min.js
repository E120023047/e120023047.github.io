"use strict";

function _typeof(e) {
    return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    } : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    })(e)
}! function(e) {
    "object" === ("undefined" == typeof exports ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).dragula = e()
}(function() {
    return function o(r, i, u) {
        function c(t, e) {
            if (!i[t]) {
                if (!r[t]) {
                    var n = "function" == typeof require && require;
                    if (!e && n) return n(t, !0);
                    if (a) return a(t, !0);
                    n = new Error("Cannot find module '" + t + "'");
                    throw n.code = "MODULE_NOT_FOUND", n
                }
                n = i[t] = {
                    exports: {}
                };
                r[t][0].call(n.exports, function(e) {
                    var n = r[t][1][e];
                    return c(n || e)
                }, n, n.exports, o, r, i, u)
            }
            return i[t].exports
        }
        for (var a = "function" == typeof require && require, e = 0; e < u.length; e++) c(u[e]);
        return c
    }({
        1: [function(e, n, t) {
            var o = {},
                r = "(?:^|\\s)",
                i = "(?:\\s|$)";

            function u(e) {
                var n = o[e];
                return n ? n.lastIndex = 0 : o[e] = n = new RegExp(r + e + i, "g"), n
            }
            n.exports = {
                add: function(e, n) {
                    var t = e.className;
                    t.length ? u(n).test(t) || (e.className += " " + n) : e.className = n
                },
                rm: function(e, n) {
                    e.className = e.className.replace(u(n), " ").trim()
                }
            }
        }, {}],
        2: [function(e, n, t) {
            (function(r) {
                var A = e("contra/emitter"),
                    j = e("crossvent"),
                    k = e("./classes"),
                    q = document,
                    U = q.documentElement;

                function F(e, n, t, o) {
                    r.navigator.pointerEnabled ? j[n](e, {
                        mouseup: "pointerup",
                        mousedown: "pointerdown",
                        mousemove: "pointermove"
                    }[t], o) : r.navigator.msPointerEnabled ? j[n](e, {
                        mouseup: "MSPointerUp",
                        mousedown: "MSPointerDown",
                        mousemove: "MSPointerMove"
                    }[t], o) : (j[n](e, {
                        mouseup: "touchend",
                        mousedown: "touchstart",
                        mousemove: "touchmove"
                    }[t], o), j[n](e, t, o))
                }

                function K(e) {
                    if (void 0 !== e.touches) return e.touches.length;
                    if (void 0 !== e.which && 0 !== e.which) return e.which;
                    if (void 0 !== e.buttons) return e.buttons;
                    e = e.button;
                    return void 0 !== e ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : void 0
                }

                function z(e, n) {
                    return void 0 !== r[n] ? r[n] : (U.clientHeight ? U : q.body)[e]
                }

                function H(e, n, t) {
                    var o = e || {},
                        e = o.className;
                    return o.className += " gu-hide", t = q.elementFromPoint(n, t), o.className = e, t
                }

                function V() {
                    return !1
                }

                function $() {
                    return !0
                }

                function G(e) {
                    return e.width || e.right - e.left
                }

                function J(e) {
                    return e.height || e.bottom - e.top
                }

                function Q(e) {
                    return e.parentNode === q ? null : e.parentNode
                }

                function W(e) {
                    return "INPUT" === e.tagName || "TEXTAREA" === e.tagName || "SELECT" === e.tagName || function e(n) {
                        if (!n) return !1;
                        if ("false" === n.contentEditable) return !1;
                        if ("true" === n.contentEditable) return !0;
                        return e(Q(n))
                    }(e)
                }

                function Z(n) {
                    return n.nextElementSibling || function() {
                        var e = n;
                        for (; e = e.nextSibling, e && 1 !== e.nodeType;);
                        return e
                    }()
                }

                function ee(e, n) {
                    var n = (t = n).targetTouches && t.targetTouches.length ? t.targetTouches[0] : t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : t,
                        t = {
                            pageX: "clientX",
                            pageY: "clientY"
                        };
                    return e in t && !(e in n) && t[e] in n && (e = t[e]), n[e]
                }
                n.exports = function(e, n) {
                    var f, l, d, s, v, o, r, p, m, g, t;
                    1 === arguments.length && !1 === Array.isArray(e) && (n = e, e = []);
                    var i, h = null,
                        y = n || {};
                    void 0 === y.moves && (y.moves = $), void 0 === y.accepts && (y.accepts = $), void 0 === y.invalid && (y.invalid = function() {
                        return !1
                    }), void 0 === y.containers && (y.containers = e || []), void 0 === y.isContainer && (y.isContainer = V), void 0 === y.copy && (y.copy = !1), void 0 === y.copySortSource && (y.copySortSource = !1), void 0 === y.revertOnSpill && (y.revertOnSpill = !1), void 0 === y.removeOnSpill && (y.removeOnSpill = !1), void 0 === y.direction && (y.direction = "vertical"), void 0 === y.ignoreInputTextSelection && (y.ignoreInputTextSelection = !0), void 0 === y.mirrorContainer && (y.mirrorContainer = q.body);
                    var b = A({
                        containers: y.containers,
                        start: function(e) {
                            e = C(e);
                            e && O(e)
                        },
                        end: N,
                        cancel: P,
                        remove: B,
                        destroy: function() {
                            c(!0), X({})
                        },
                        canMove: function(e) {
                            return !!C(e)
                        },
                        dragging: !1
                    });
                    return !0 === y.removeOnSpill && b.on("over", function(e) {
                        k.rm(e, "gu-hide")
                    }).on("out", function(e) {
                        b.dragging && k.add(e, "gu-hide")
                    }), c(), b;

                    function u(e) {
                        return -1 !== b.containers.indexOf(e) || y.isContainer(e)
                    }

                    function c(e) {
                        e = e ? "remove" : "add";
                        F(U, e, "mousedown", S), F(U, e, "mouseup", X)
                    }

                    function a(e) {
                        F(U, e ? "remove" : "add", "mousemove", x)
                    }

                    function w(e) {
                        e = e ? "remove" : "add";
                        j[e](U, "selectstart", E), j[e](U, "click", E)
                    }

                    function E(e) {
                        i && e.preventDefault()
                    }

                    function S(e) {
                        var n, t;
                        o = e.clientX, r = e.clientY, 1 !== K(e) || e.metaKey || e.ctrlKey || (t = C(n = e.target)) && (i = t, a(), "mousedown" === e.type && (W(n) ? n.focus() : e.preventDefault()))
                    }

                    function x(e) {
                        if (i)
                            if (0 !== K(e)) {
                                if (void 0 === e.clientX || e.clientX !== o || void 0 === e.clientY || e.clientY !== r) {
                                    if (y.ignoreInputTextSelection) {
                                        var n = ee("clientX", e),
                                            t = ee("clientY", e);
                                        if (W(q.elementFromPoint(n, t))) return
                                    }
                                    t = i;
                                    a(!0), w(), N(), O(t);
                                    t = function(e) {
                                        e = e.getBoundingClientRect();
                                        return {
                                            left: e.left + z("scrollLeft", "pageXOffset"),
                                            top: e.top + z("scrollTop", "pageYOffset")
                                        }
                                    }(d);
                                    s = ee("pageX", e) - t.left, v = ee("pageY", e) - t.top, k.add(g || d, "gu-transit"),
                                        function() {
                                            if (f) return;
                                            var e = d.getBoundingClientRect();
                                            (f = d.cloneNode(!0)).style.width = G(e) + "px", f.style.height = J(e) + "px", k.rm(f, "gu-transit"), k.add(f, "gu-mirror"), y.mirrorContainer.appendChild(f), F(U, "add", "mousemove", L), k.add(y.mirrorContainer, "gu-unselectable"), b.emit("cloned", f, d, "mirror")
                                        }(), L(e)
                                }
                            } else X({})
                    }

                    function C(e) {
                        if (!(b.dragging && f || u(e))) {
                            for (var n = e; Q(e) && !1 === u(Q(e));) {
                                if (y.invalid(e, n)) return;
                                if (!(e = Q(e))) return
                            }
                            var t = Q(e);
                            if (t)
                                if (!y.invalid(e, n))
                                    if (y.moves(e, t, n, Z(e))) return {
                                        item: e,
                                        source: t
                                    }
                        }
                    }

                    function O(e) {
                        var n, t;
                        n = e.item, t = e.source, ("boolean" == typeof y.copy ? y.copy : y.copy(n, t)) && (g = e.item.cloneNode(!0), b.emit("cloned", g, e.item, "copy")), l = e.source, d = e.item, p = m = Z(e.item), b.dragging = !0, b.emit("drag", d, l)
                    }

                    function N() {
                        var e;
                        b.dragging && Y(e = g || d, Q(e))
                    }

                    function T() {
                        a(!(i = !1)), w(!0)
                    }

                    function X(e) {
                        var n, t;
                        T(), b.dragging && (n = g || d, t = ee("clientX", e), e = ee("clientY", e), (e = _(H(f, t, e), t, e)) && (g && y.copySortSource || !g || e !== l) ? Y(n, e) : (y.removeOnSpill ? B : P)())
                    }

                    function Y(e, n) {
                        var t = Q(e);
                        g && y.copySortSource && n === l && t.removeChild(d), I(n) ? b.emit("cancel", e, l, l) : b.emit("drop", e, n, l, m), D()
                    }

                    function B() {
                        var e, n;
                        b.dragging && ((n = Q(e = g || d)) && n.removeChild(e), b.emit(g ? "cancel" : "remove", e, n, l), D())
                    }

                    function P(e) {
                        var n, t, o;
                        b.dragging && (n = 0 < arguments.length ? e : y.revertOnSpill, !1 === (e = I(o = Q(t = g || d))) && n && (g ? o && o.removeChild(g) : l.insertBefore(t, p)), e || n ? b.emit("cancel", t, l, l) : b.emit("drop", t, o, l, m), D())
                    }

                    function D() {
                        var e = g || d;
                        T(), f && (k.rm(y.mirrorContainer, "gu-unselectable"), F(U, "remove", "mousemove", L), Q(f).removeChild(f), f = null), e && k.rm(e, "gu-transit"), t && clearTimeout(t), b.dragging = !1, h && b.emit("out", e, h, l), b.emit("dragend", e), l = d = g = p = m = t = h = null
                    }

                    function I(e, n) {
                        n = void 0 !== n ? n : f ? m : Z(g || d);
                        return e === l && n === p
                    }

                    function _(n, t, o) {
                        for (var r = n; r && ! function() {
                                if (!1 === u(r)) return !1;
                                var e = M(r, n),
                                    e = R(r, e, t, o);
                                if (I(r, e)) return !0;
                                return y.accepts(d, r, l, e)
                            }();) r = Q(r);
                        return r
                    }

                    function L(e) {
                        if (f) {
                            e.preventDefault();
                            var n = ee("clientX", e),
                                t = ee("clientY", e),
                                o = n - s,
                                r = t - v;
                            f.style.left = o + "px", f.style.top = r + "px";
                            var i = g || d,
                                e = H(f, n, t),
                                o = _(e, n, t),
                                u = null !== o && o !== h;
                            !u && null !== o || (h && a("out"), h = o, u && a("over"));
                            r = Q(i);
                            if (o !== l || !g || y.copySortSource) {
                                var c, e = M(o, e);
                                if (null !== e) c = R(o, e, n, t);
                                else {
                                    if (!0 !== y.revertOnSpill || g) return void(g && r && r.removeChild(i));
                                    c = p, o = l
                                }(null === c && u || c !== i && c !== Z(i)) && (m = c, o.insertBefore(i, c), b.emit("shadow", i, o, l))
                            } else r && r.removeChild(i)
                        }

                        function a(e) {
                            b.emit(e, i, h, l)
                        }
                    }

                    function M(e, n) {
                        for (var t = n; t !== e && Q(t) !== e;) t = Q(t);
                        return t === U ? null : t
                    }

                    function R(r, n, i, u) {
                        var c = "horizontal" === y.direction;
                        return (n !== r ? function() {
                            var e = n.getBoundingClientRect();
                            if (c) return t(i > e.left + G(e) / 2);
                            return t(u > e.top + J(e) / 2)
                        } : function() {
                            var e, n, t, o = r.children.length;
                            for (e = 0; e < o; e++) {
                                if (n = r.children[e], t = n.getBoundingClientRect(), c && t.left + t.width / 2 > i) return n;
                                if (!c && t.top + t.height / 2 > u) return n
                            }
                            return null
                        })();

                        function t(e) {
                            return e ? Z(n) : n
                        }
                    }
                }
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "./classes": 1,
            "contra/emitter": 5,
            crossvent: 6
        }],
        3: [function(e, n, t) {
            n.exports = function(e, n) {
                return Array.prototype.slice.call(e, n)
            }
        }, {}],
        4: [function(e, n, t) {
            var o = e("ticky");
            n.exports = function(e, n, t) {
                e && o(function() {
                    e.apply(t || null, n || [])
                })
            }
        }, {
            ticky: 9
        }],
        5: [function(e, n, t) {
            var c = e("atoa"),
                a = e("./debounce");
            n.exports = function(r, e) {
                var i = e || {},
                    u = {};
                return void 0 === r && (r = {}), r.on = function(e, n) {
                    return u[e] ? u[e].push(n) : u[e] = [n], r
                }, r.once = function(e, n) {
                    return n._once = !0, r.on(e, n), r
                }, r.off = function(e, n) {
                    var t = arguments.length;
                    if (1 === t) delete u[e];
                    else if (0 === t) u = {};
                    else {
                        e = u[e];
                        if (!e) return r;
                        e.splice(e.indexOf(n), 1)
                    }
                    return r
                }, r.emit = function() {
                    var e = c(arguments);
                    return r.emitterSnapshot(e.shift()).apply(this, e)
                }, r.emitterSnapshot = function(o) {
                    var e = (u[o] || []).slice(0);
                    return function() {
                        var n = c(arguments),
                            t = this || r;
                        if ("error" === o && !1 !== i.throws && !e.length) throw 1 === n.length ? n[0] : n;
                        return e.forEach(function(e) {
                            i.async ? a(e, n, t) : e.apply(t, n), e._once && r.off(o, e)
                        }), r
                    }
                }, r
            }
        }, {
            "./debounce": 4,
            atoa: 3
        }],
        6: [function(t, o, e) {
            (function(r) {
                var i = t("custom-event"),
                    u = t("./eventmap"),
                    c = r.document,
                    e = function(e, n, t, o) {
                        return e.addEventListener(n, t, o)
                    },
                    n = function(e, n, t, o) {
                        return e.removeEventListener(n, t, o)
                    },
                    a = [];

                function f(e, n, t) {
                    n = function(e, n, t) {
                        var o, r;
                        for (o = 0; o < a.length; o++)
                            if ((r = a[o]).element === e && r.type === n && r.fn === t) return o
                    }(e, n, t);
                    if (n) {
                        t = a[n].wrapper;
                        return a.splice(n, 1), t
                    }
                }
                r.addEventListener || (e = function(e, n, t) {
                    return e.attachEvent("on" + n, function(e, n, t) {
                        var o = f(e, n, t) || function(t, o) {
                            return function(e) {
                                var n = e || r.event;
                                n.target = n.target || n.srcElement, n.preventDefault = n.preventDefault || function() {
                                    n.returnValue = !1
                                }, n.stopPropagation = n.stopPropagation || function() {
                                    n.cancelBubble = !0
                                }, n.which = n.which || n.keyCode, o.call(t, n)
                            }
                        }(e, t);
                        return a.push({
                            wrapper: o,
                            element: e,
                            type: n,
                            fn: t
                        }), o
                    }(e, n, t))
                }, n = function(e, n, t) {
                    t = f(e, n, t);
                    if (t) return e.detachEvent("on" + n, t)
                }), o.exports = {
                    add: e,
                    remove: n,
                    fabricate: function(e, n, t) {
                        var o = -1 === u.indexOf(n) ? new i(n, {
                            detail: t
                        }) : function() {
                            var e;
                            c.createEvent ? (e = c.createEvent("Event")).initEvent(n, !0, !0) : c.createEventObject && (e = c.createEventObject());
                            return e
                        }();
                        e.dispatchEvent ? e.dispatchEvent(o) : e.fireEvent("on" + n, o)
                    }
                }
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "./eventmap": 7,
            "custom-event": 8
        }],
        7: [function(e, r, n) {
            (function(e) {
                var n = [],
                    t = "",
                    o = /^on/;
                for (t in e) o.test(t) && n.push(t.slice(2));
                r.exports = n
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        8: [function(e, t, n) {
            (function(e) {
                var n = e.CustomEvent;
                t.exports = function() {
                    try {
                        var e = new n("cat", {
                            detail: {
                                foo: "bar"
                            }
                        });
                        return "cat" === e.type && "bar" === e.detail.foo
                    } catch (e) {}
                }() ? n : "function" == typeof document.createEvent ? function(e, n) {
                    var t = document.createEvent("CustomEvent");
                    return n ? t.initCustomEvent(e, n.bubbles, n.cancelable, n.detail) : t.initCustomEvent(e, !1, !1, void 0), t
                } : function(e, n) {
                    var t = document.createEventObject();
                    return t.type = e, n ? (t.bubbles = Boolean(n.bubbles), t.cancelable = Boolean(n.cancelable), t.detail = n.detail) : (t.bubbles = !1, t.cancelable = !1, t.detail = void 0), t
                }
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        9: [function(e, n, t) {
            var o = "function" == typeof setImmediate ? function(e) {
                setImmediate(e)
            } : function(e) {
                setTimeout(e, 0)
            };
            n.exports = o
        }, {}]
    }, {}, [2])(2)
});
"use strict";
Freemwork.translations = {
    password: {
        strength: {
            0: "Mot de passe trop faible",
            1: "Mot de passe facilement trouvable",
            2: "Mot de passe faible",
            3: "Mot de passe assez robuste",
            4: "Félicitation, votre mot de passe est robuste !"
        },
        feedback: {
            use_a_few_words: "Utilisez quelques mots, évitez les phrases communes.",
            no_need_for_mixed_chars: "Les symboles, chiffres ou majuscules ne sont pas obligatoires.",
            uncommon_words_are_better: "Ajoutez un autre mot ou deux, de préférence des mots peu communs.",
            straight_rows_of_keys_are_easy: "Garder l'ordre des lettres du clavier est une mauvaise idée...",
            short_keyboard_patterns_are_easy: "Les schémas de clavier courts sont faciles à deviner.",
            use_longer_keyboard_patterns: "Utilisez un schéma répétitif plus long.",
            repeated_chars_are_easy: 'Les répétitions comme "aaa" sont faciles à deviner.',
            repeated_patterns_are_easy: 'Les répétitions comme "abcabcabc" ne sont pas plus sécurisées que "abc".',
            avoid_repeated_chars: "Évitez les mots et les caractères répétés.",
            sequences_are_easy: 'Les séquences comme "abc" ou "6543" sont faciles à deviner.',
            avoid_sequences: "Évitez les suites de caractères.",
            recent_years_are_easy: "Les années récentes sont faciles à deviner.",
            avoid_recent_years: "Évitez les années récentes.",
            avoid_associated_years: "Évitez les années qui vous sont associées.",
            dates_are_easy: "Les dates sont souvent faciles à deviner.",
            avoid_associated_dates_and_years: "Évitez les dates et les années qui vous sont associées.",
            top10_common_password: "Ce mot de passe fait partie du top 10 des mots de passe les plus courants...",
            top100_common_password: "Ce mot de passe fait partie du top 100 des mots de passe les plus courants...",
            very_common_password: "Ce mot de passe est très commun.",
            similar_to_common_password: "Ceci est similaire à un mot de passe couramment utilisé.",
            a_word_is_easy: "Un mot seul est facile à deviner.",
            names_are_easy: "Les noms et surnoms sont faciles à deviner.",
            common_names_are_easy: "Les noms communs et les noms de famille sont faciles à deviner.",
            capitalization_doesnt_help: "Les majuscules n'aident pas beaucoup.",
            all_uppercase_doesnt_help: "Un mot tout en majuscule est presque aussi facile à deviner qu'un mot tout en minuscule.",
            reverse_doesnt_help: "Les mots inversés ne sont pas beaucoup plus difficiles à deviner.",
            substitution_doesnt_help: "Les substitutions prévisibles comme '@' au lieu de 'a' ne sont pas très utiles."
        }
    }
};
"use strict";
$(function() {
    $.extend(Freemwork, {
        progressbar: []
    }), Freemwork.mdc.initDOM(), Freemwork.features.init(), "undefined" != typeof i18n && Freemwork.init_translation(i18n), $(".progressbar").each(function() {
        var t = $.extend({}, {
                progressEasing: "easeOut",
                progressDuration: 1500,
                progressValue: 0,
                progressColor: "#0d8200",
                progressDelay: 0
            }, $(this).data()),
            e = new ProgressBar.Circle(this, {
                strokeWidth: 6,
                easing: t.progressEasing,
                duration: t.progressDuration,
                color: t.progressColor,
                trailWidth: 1,
                svgStyle: null
            });
        Freemwork.progressbar.push(e);

        function i() {
            e.animate(parseInt(t.progressValue, 10) / 100)
        }
        0 < parseInt(t.progressDelay, 10) ? setTimeout(i, t.progressDelay) : i()
    }), $("#multi-ligne-selector .toggle-bt").on("click", function() {
        $(this).siblings("li").find("ul").slideToggle("fast")
    });
    var t = {
        position: {
            collision: "flip",
            using: function(t, e) {
                "center" === e.horizontal && (t.left = Math.round(t.left - (e.element.width - e.target.width) / 2)), $(this).css(t), $("<div>").addClass("ui-tooltip-arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)
            }
        },
        close: function() {
            $(this).data("ui-tooltip").liveRegion.children(":not(:last)").remove()
        }
    };
    $("[title]:not([disabled])").tooltip($.extend({}, t, {
        content: function() {
            return $(this).attr("title")
        }
    })), window.addEventListener("touchstart", function t() {
        $("[title]:not([disabled])").tooltip("destroy"), window.removeEventListener("touchstart", t)
    }, !1), $(document).tooltip($.extend({}, t, {
        items: "[data-help]:not([disabled])",
        content: function() {
            var t = $(this);
            return t.is("[data-help-content]") ? $(this).attr("data-help-content") : t.is("[data-help-target]") ? $($(this).attr("data-help-target")).html() : t.is("[data-help-link]") ? $.get($(this).attr("data-help-link")) : void 0
        }
    }))
});
"use strict";
Freemwork.conso = {
    init: function() {
        var t = this;
        $(".toggle-conso a").click(function() {
            $(".toggle-conso a").toggleClass("selected"), $(".conso-infos").toggle(), $(".conso-details").removeClass("local roaming").addClass($(this).data("target")), t.hideEmptyTable()
        }), $("#toggle-details").click($.proxy(t.showDetails, this)), $(".conso__icon").click(function() {
            t.moveTo($(this).data("target"))
        }), $("select[name=historyId]").change(function() {
            window.location.replace("/account/conso-et-factures?historyId=" + $("select[name=historyId]").val())
        })
    },
    showDetails: function(o) {
        var e, n = this,
            a = $("#toggle-details");
        "loading" !== a.buttonState("get") && (a.buttonState("loading"), (e = $(".conso-details")).animate({
            height: "toggle"
        }, 300, e.is(":visible") ? function() {
            a.buttonState("default")
        } : function() {
            $(".conso-details__loader", e).length ? $.get("/account/conso-et-factures?details").done(function(t) {
                a.buttonState("shown"), e.html(t), n.hideEmptyTable(), "function" == typeof o && o()
            }).fail(function() {
                displayFlash("Une erreur est survenue lors de la récupération de la liste de vos consommations.", "error"), e.hide(), a.buttonState("default")
            }) : a.buttonState("shown")
        }))
    },
    moveTo: function(o) {
        this.showDetails(function() {
            var t = $(".preheader." + o);
            t.length && $("body").stop().animate({
                scrollTop: "+=" + t.position().top
            }, "slow")
        })
    },
    hideEmptyTable: function() {
        var t = $(".toggle-conso a.selected").data("target");
        $(".conso-details .table-details").each(function() {
            $(this).toggle(0 < $(this).find(".line." + t).length)
        }), $(".no-conso").toggle(!$(".conso-details .table-details:visible").length)
    }
};
"use strict";
Freemwork.mesConnexions = {
    init: function() {
        $("a[data-token]").on("click", $.proxy(this._removeToken, this))
    },
    _removeToken: function(e) {
        e.preventDefault();
        var t = $(e.currentTarget),
            n = t.data("token"),
            e = t.attr("href");
        Freemwork.Ajax.requestJSON({
            url: e,
            method: "post",
            data: {
                token: n
            },
            beforeSend: function() {
                t.attr("disabled", "disabled")
            },
            complete: function() {
                t.removeAttr("disabled")
            },
            success: $.proxy(function() {
                this._onSuccess(t)
            }, this)
        }).launch()
    },
    _onSuccess: function(e) {
        var t = this;
        e.closest(".token").fadeOut(200, function() {
            $(this).remove(), t._onTokenRemove()
        })
    },
    _onTokenRemove: function() {
        var e = $(".tokens");
        0 === e.find(".token").length && e.append($("<div />", {
            class: "token empty bold",
            html: Freemwork.translate("Aucune donnée")
        }))
    }
};
"use strict";
Freemwork.alertActivationSim = {
    initAlertActivationSim: function() {
        var i = Cookies.get("display_activation_sim"),
            t = $(".alert-sim-activation");
        void 0 === i ? t.show() : t.hide(), $(document).on("click", ".close-sim-alert", function(i) {
            Cookies.set("display_activation_sim", !1), t.hide()
        })
    },
    initAlertActivationESim: function() {
        var i = Cookies.get("display_activation_esim"),
            t = $(".alert-esim-activation");
        void 0 === i ? t.show() : t.hide(), $(document).on("click", ".close-esim-alert", function(i) {
            Cookies.set("display_activation_esim", !1), t.hide()
        })
    }
};
"use strict";
$(function() {
    $(".display-etape").on("click", function() {
        var e = $(this).attr("rel"),
            t = $(".etape." + e),
            i = $(".pe-bad-mail form").get(0);
        if ("zero" !== e && 0 < $(this).parent().find("input, select").length && !i.checkValidity()) return i.reportValidity(), !1;
        $(".etape").find("input, select").filter(function() {
            return 0 === this.value.length
        }).attr("disabled", "disabled"), $(".etape").hide(), t.show(), t.MDComponent({
            disabled: !1,
            target: "childrens"
        }), t.find("input[name=cb-type]").prop("disabled", !1), t.find(".creditCard").toggleClass("creditCard--disabled", !1), "zero" === e ? ($(".back").hide(), $(".etape").find("input, select").attr("disabled", "disabled")) : $(".back").show()
    })
});
"use strict";
$(function() {
    $(".pe-forget").on("click", ".question", function() {
        $("input[name=nom], input[name=prenom], input[name=login]").each(function() {
            var e = $(this).closest(".mdc-text-field").data("MDCTextField");
            e && (e.disabled = !e.disabled)
        }), $(".informations-name").toggleClass("hidden"), $(".identifiant").toggleClass("hidden"), $(".pe-forget .question, .pe-forget .titre").toggle()
    })
});
"use strict";
Freemwork.features = {
    init: function() {
        $(".feature-menu__item--disabled").on("click", function() {
            Freemwork.Ajax.requestJSON({
                url: "?feature-status=" + $(this).data("feature"),
                type: "GET"
            }).launch(function(e) {
                e.fail(function() {
                    displayFlash("Error", "error")
                })
            })
        })
    }
};
"use strict";

function showOrdersList(e) {
    var t = $(".orders-list");
    0 < t.length && ($(".orders-list > div").removeClass("active"), t.find("." + e).addClass("active"))
}! function(a) {
    function e(e) {
        e.preventDefault();
        var t = $("[data-remodal-id=modal--annuler-commande]").clone(),
            o = $(".popin__content p", t),
            n = $(this).closest(".commande__details"),
            e = n.find(".nom-mobile"),
            s = $(this).prop("href");
        o.html(o.html().replace("{0}", '<span class="bold">' + e.text().trim() + "</span>")), a.components.showPopin(t, {
            onConfirm: function() {
                a.commandes.cancel(s, n)
            }
        })
    }
    a.commandes = {
        init: function() {
            $(".acc__cmd-mobile").on("click", ".bt-cancel", e), 0 < $(".toggle-orders").length && (showOrdersList($(".toggle-orders a.selected").data("target")), $(".toggle-orders a").click(function() {
                $(".toggle-orders a").toggleClass("selected"), showOrdersList($(".toggle-orders a.selected").data("target"))
            }))
        },
        cancel: function(e) {
            window.location = e
        }
    }
}(Freemwork);
"use strict";
Freemwork.codes = {
    get: function(r, e) {
        var a, t = $('<img src="/assets/images/loader/ajax-loader.gif" class="loader">');
        Freemwork.Ajax.requestJSON({
            url: document.location.href,
            data: {
                show: r
            },
            type: "GET",
            beforeSend: function() {
                a = $(e).replaceWith(t)
            }
        }).registerActionCallback("get_code", function(e) {
            t.replaceWith(e.success ? $('<span class="retrieved-code bold"></span>').text(e.data["code_" + r]) : a)
        }).launch(function(e) {
            e.fail(function() {
                displayFlash("Une erreur est survenue lors de la récupération du code.", "error"), t.replaceWith(a)
            })
        })
    }
};
"use strict";
! function(r) {
    r.formAdresse = {
        initStep: function(e) {
            var t = this;
            t.jq_form = $(".form-adresse"), 1 === e && t.jq_form.data("AdresseForm", new Freemwork.AdresseForm(t.jq_form.get(0))), t.jq_form.on("input, change", $.proxy(r.formAdresse.updateSubmitState, t)), 2 === e && t.jq_form.on("keypress", $.proxy(r.formAdresse.updateSubmitState, t)), t.updateSubmitState()
        },
        updateSubmitState: function() {
            var r = !0;
            $(":input[required]", this.jq_form).each(function(e, t) {
                r = !$(t).prop("disabled") && "validity" in t ? r && t.validity.valid : (t = ($(t).is("select") ? $("option:selected", t) : $(t)).val(), r && void 0 !== t && 0 < t.length)
            }), $('button[type="submit"]', this.form).prop("disabled", !r)
        }
    }
}(Freemwork);
"use strict";
! function(o) {
    var m = ["gmail.com", "hotmail.fr", "free.fr", "yahoo.fr", "hotmail.com", "orange.fr", "live.fr", "laposte.net", "sfr.fr", "wanadoo.fr", "outlook.fr", "neuf.fr", "yahoo.com", "aliceadsl.fr", "msn.com", "voila.fr", "aol.com", "bbox.fr", "icloud.com", "outlook.com", "numericable.fr", "club-internet.fr", "gmx.fr", "me.com", "cegetel.net", "live.com", "netcourrier.com", "libertysurf.fr", "canalbox.com", "aol.fr", "protonmail.com", "rocketmail.com", "facebook.com"];
    o.formEmail = {
        init: function(o) {
            var t = this,
                e = $(".form-email"),
                o = o,
                i = $(o, e),
                n = $('input[name="email"]', e),
                a = $('input[name="email-confirm"]', e),
                s = $("#confirm-helptext", e),
                r = $("#suggest-helptext", e),
                l = $('button[type="submit"]', e);
            e.on("input", o, function() {
                var t = !1;
                i.each(function(o, e) {
                    t = t || "" === $(e).val()
                });
                var o = "";
                n.val() !== a.val() && (o = s.text()), s.css("opacity", o ? 1 : 0), a.get(0).setCustomValidity(o), l.prop("disabled", t || o)
            }), n.on("blur", function() {
                var o = $(this).val().trim().split("@");
                2 !== o.length || "gmail.fr" !== o[1] ? $(this).mailcheck({
                    domains: m,
                    secondLevelDomains: [],
                    topLevelDomains: ["fr", "com", "net", "org"],
                    suggested: function(o, e) {
                        t.showSuggestion(e.full, r, n)
                    },
                    empty: function() {
                        t.hideSuggestion(r)
                    }
                }) : t.showSuggestion(o[0] + "@gmail.com", r, n)
            })
        },
        showSuggestion: function(o, e, t) {
            var i = this;
            e.html(Freemwork.translate("Il se peut qu'une faute de frappe se soit glissée dans votre saisie. Vouliez-vous dire {0} ?", ['<span class="email-suggestion">' + o + "</span>"])).animate({
                opacity: 1
            }, 200), e.on("click", ".email-suggestion", function() {
                t.val($(this).text()), i.hideSuggestion(e)
            })
        },
        hideSuggestion: function(o) {
            o.css("opacity", 0)
        }
    }
}(Freemwork);
"use strict";
Freemwork.formPaiement.init = function(r) {
    return function(e) {
        r.call(Freemwork.formPaiement, e), $('.form-prelevement input[type="password"]').on("input", function() {
            Freemwork.formPaiement.updateSubmitState()
        })
    }
}(Freemwork.formPaiement.init), Freemwork.formPaiement.isFormValid = function(e) {
    return function() {
        var t = !0;
        return $('.form-prelevement input[type="password"]').each(function(e, r) {
            t = t && ("validity" in r ? r.validity.valid : 0 < $(r).val().length)
        }), t && e.call(Freemwork.formPaiement)
    }
}(Freemwork.formPaiement.isFormValid);
"use strict";
! function(t) {
    var s = {
        0: "#EF0000",
        1: "#ef592a",
        2: "#ef9e34",
        3: "#edef41",
        4: "#1aa91c"
    };
    t.formPwd = {
        input: null,
        text: null,
        meter: null,
        strength: null,
        submit: null,
        init: function() {
            var t, a, r = this;
            r.submit = $('.form-pwd button[type="submit"]'), r.input = $('input[type="password"][data-strenght-meter]'), r.input.length && ((t = $(r.input.data("strenght-meter"))).length && (r.meter = new ProgressBar.Line(t.get(0), {
                strokeWidth: 1,
                easing: "easeOut",
                duration: 200,
                color: "#EF0000",
                trailColor: "#E0E0E0",
                trailWidth: 1,
                svgStyle: {
                    display: "block",
                    width: "100%",
                    height: "100%"
                },
                step: function(t, e) {
                    e.path.setAttribute("stroke", t.color)
                }
            })), r.text = $(r.input.data("strenght-text")), r.input.on("input", function() {
                var n, t = $(this).val(),
                    e = zxcvbn(t, {
                        user_inputs: [],
                        feedback_messages: Freemwork.translations.password.feedback
                    });
                r.meter && r.strength !== e.score && (r.meter.animate(e.score / 4, {
                    from: {
                        color: s[e.score + (r.strength > e.score ? 1 : -1)]
                    },
                    to: {
                        color: s[e.score]
                    }
                }), r.strength = e.score), r.text.length && (t = $('<div class="bold"></div>').text(Freemwork.translations.password.strength[e.score]), "" !== e.feedback.warning && (t = t.add($('<div><span class="icon warning i-warning red"></span><span>' + e.feedback.warning + "</span></div>"))), $.isArray(e.feedback.suggestions) && e.feedback.suggestions.length && (n = $("<ul></ul>"), $.each(e.feedback.suggestions, function(t, e) {
                    n.append('<li><span class="icon info i-info"></span> <span>' + e + "</span></li>")
                }), t = t.add(n)), r.text.html(t))
            }), (a = $('.form-pwd input[type="password"]')).on("input", function() {
                var n = !1;
                a.each(function(t, e) {
                    n = n || "" === $(e).val()
                });
                var t = $('input[name="password-new-confirm"]'),
                    e = "",
                    s = $("#confirm-helptext");
                $('input[name="password-new"]').val() !== t.val() && (e = s.text()), s.css("opacity", e ? 1 : 0), t.get(0).setCustomValidity(e), r.submit.prop("disabled", n || r.strength < 2 || e)
            }))
        }
    }
}(Freemwork);
"use strict";
! function(t) {
    t.options = {
        init: function() {
            t.arrayStatus.init(), this.initOptionNotifSMS(), this.initOptionMVV(!1)
        },
        initOptionNotifSMS: function() {
            var t;
            $("[data-clipboard-target]").length && ((t = new Clipboard("[data-clipboard-target]")).on("success", function(t) {
                displayFlash("La clé <b>" + t.text + "</b> a correctement été copiée dans le presse papier.", "info"), t.clearSelection()
            }), t.on("error", function(t) {
                displayFlash("La copie a échouée.<br>Veuillez appuyer sur les touches <b>Ctrl + C</b> pour copier la clé dans le presse papier.", "warning")
            }))
        },
        initOptionMVV: function(t) {
            $(document).on("click", ".popin-mvv .os-tabs .icon", function(t) {
                $(".popin-mvv .os-contents > div, .popin-mvv .os-tabs .icon").removeClass("selected"), $(".popin-mvv ." + $(this).attr("rel")).addClass("selected"), $(this).addClass("selected")
            }), t && $(".array-status").on("click", ".as__status--on a", function(t) {
                t.preventDefault();
                t = $(".os-tabs .icon.selected").first(), t = t.length ? t.attr("rel") : -1;
                window.location.href = $(this).prop("href") + "&os_type=" + t
            })
        }
    }
}(Freemwork);
"use strict";
! function(s) {
    function e(e) {
        e.preventDefault();
        var t, n = $(this).prop("href"),
            a = $(this).data("action"),
            r = $(this).closest(".speed-dial__item"),
            i = r.find("input[name=sd_target]"),
            o = r.find("input[name=sd_short]");
        "delete" === a ? (t = $("[data-remodal-id=modal--delete-speed-dial]").clone(), (e = $(".popin__content p", t)).html(e.html().replace("{0}", '<span class="bold">' + i.val() + "</span>").replace("{1}", '<span class="bold">' + o.val() + "</span>")), s.components.showPopin(t, {
            onConfirm: function() {
                s.servicesIN.speeddial.delete(n, r)
            }
        })) : "add" === a ? l(a = r.find("input[name=sd_name]")) && l(i) && l(o) && s.servicesIN.speeddial.add(n, a.val(), i.val(), o.val()) : displayFlash("Action incorrecte.", "error")
    }

    function l(e) {
        return !("reportValidity" in e.get(0)) || e.get(0).reportValidity()
    }

    function t(e) {
        e = e.target;
        e.validity.patternMismatch ? e.setCustomValidity("Le numéro doit être composé de 4 à 10 chiffres et ne pas commencer par 0.") : e.setCustomValidity("")
    }

    function n(e) {
        e.preventDefault();
        var t = s.components.createLoader();
        s.Ajax.requestJSON({
            url: $(this).prop("href"),
            type: "GET",
            data: {
                id: $(this).closest(".f-rules__item").data("id")
            },
            beforeSend: function() {
                t.appendTo(i.toggleForm(!0)), s.utils.moveTo(r)
            }
        }).launch(function(e) {
            e.fail(function() {
                displayFlash("Une erreur est survenue lors de la récupération de la règle de filtrage.", "error"), i.toggleForm(!1)
            }).always(function() {
                t.remove()
            }).done(function() {
                i.updateDaysColor(), i.init()
            })
        })
    }

    function a(e) {
        e.preventDefault();
        var t = $("[data-remodal-id=modal--delete-filter-rule]").clone(),
            n = $(".popin__content p", t),
            a = $(this).closest(".f-rules__item"),
            e = a.find(".f-rules__item--comment"),
            r = $(this).prop("href");
        n.html(n.html().replace("{0}", '<span class="bold">' + e.text().trim() + "</span>")), s.components.showPopin(t, {
            onConfirm: function() {
                i.deleteRule(r, a)
            }
        })
    }
    s.servicesIN = {
        init: function() {
            s.arrayStatus.init()
        }
    }, s.servicesIN.speeddial = {
        init: function() {
            $(".speed-dial").on("click", ".speed-dial__button", e), $("input[name=sd_short]").on("invalid input", t)
        },
        delete: function(e, t) {
            var n = s.components.createLoader();
            s.Ajax.requestJSON({
                url: e,
                data: {
                    action: "delete"
                },
                type: "GET",
                beforeSend: function() {
                    n.appendTo(t)
                }
            }).registerActionCallback("delete", function(e) {
                e.success && t.css("width", t.width()).animate({
                    marginLeft: "60%",
                    opacity: 0
                }, 750, "easeOutQuart", function() {
                    t.remove()
                })
            }).launch(function(e) {
                e.fail(function() {
                    displayFlash("Une erreur est survenue, veuillez réessayer ultérieurement.", "error")
                }).always(function() {
                    n.remove()
                })
            })
        },
        add: function(e, t, n, a) {
            var r = s.components.createLoader(),
                i = $(".speed-dial .speed-dial__list + .speed-dial__item");
            s.Ajax.requestJSON({
                url: e,
                data: {
                    action: "add",
                    name: t,
                    target: n,
                    short: a
                },
                type: "GET",
                beforeSend: function() {
                    r.appendTo(i)
                }
            }).registerActionCallback("add", function(e) {
                e.success && i.find("input[type=text]").val("")
            }).launch(function(e) {
                e.fail(function() {
                    displayFlash("Une erreur est survenue, veuillez réessayer ultérieurement.", "error")
                }).always(function() {
                    r.remove()
                })
            })
        }
    };
    var r = ".f-rules__form",
        o = "input[name=direction]",
        c = "input[name=media]",
        u = "input[name=action]",
        d = "input[name=all-numbers]",
        p = "input[name=full-day]",
        m = "input[name=full-week]",
        f = "input[name=pattern]",
        i = {
            timer: { in: null,
                out: null
            },
            init: function() {
                this.form = $(r);
                var i = this;
                s.arrayStatus.init(), $(".f-rules .toggle").click(function() {
                    var n = $(this),
                        a = $(n.data("toggle"));
                    a.toggle(n.is(".toggle-rule") ? 75 : 160, function() {
                        var e = ["i-chevron-down", "i-chevron-up"],
                            t = a.is(":visible") ? 0 : 1;
                        n.find(".ico").removeClass(e[t % 2]).addClass(e[++t % 2])
                    })
                }), i.form.on("change", o, function() {
                    i.updateSelectActionOptions();
                    var e = $(o, i.form);
                    e.each(function() {
                        $(this).prop("required", !0)
                    }), e.filter(":checked").length && e.filter(":not(:checked)").length && e.filter(":not(:checked)").get(0).removeAttribute("required")
                }).on("change", c, function() {
                    var e = Freemwork.translate("Rediriger vers la messagerie");
                    "2" === $(c, i.form).closest(".mdc-select").data("MDCSelect").value && (e = Freemwork.translate("Recevoir après la période définie"));
                    var t = $(u, i.form).closest(".mdc-select").data("MDCSelect");
                    t.removeItem(2), t.addItems([{
                        value: 2,
                        label: e
                    }]), i.updateSelectActionOptions()
                }).on("change", u, function() {
                    i.updateDaysColor()
                }).on("change", d, function() {
                    $(f, i.form).MDComponent({
                        value: this.checked ? "*" : "",
                        target: "parents"
                    })
                }).on("input", f, function() {
                    $(d, i.form).MDComponent({
                        checked: "*" === $(this).val(),
                        target: "parents"
                    })
                }).on("change", p, function() {
                    i.updateSelectActionOptions(), $("input[name^=start_], input[name^=end_]", i.form).MDComponent({
                        disabled: this.checked,
                        target: "parents"
                    })
                }).on("change", "input[name^=start_], input[name^=end_]", function() {
                    i.updateSelectActionOptions()
                }).on("change", m, function() {
                    $('input[name="days[]"]', i.form).MDComponent({
                        disabled: this.checked,
                        target: "parents"
                    })
                }).on("change", 'input[name="days[]"]', function() {
                    var e = $('input[name="days[]"]:checked', i.form).length;
                    $(m, i.form).MDComponent({
                        checked: 7 === e || 0 === e,
                        target: "parents"
                    }), 0 !== e && 7 !== e || $('input[name="days[]"]', i.form).MDComponent({
                        checked: !0,
                        disabled: !0,
                        target: "parents"
                    })
                }).on("click", ".bt-cancel", function() {
                    i.razForm(), $(".bt-save", i.form).addClass("bt-save--new"), i.toggleForm(!1)
                }), $(".f-rules").on("click", ".bt-edit", n).on("click", ".bt-delete", a), dragula($(".f-rules__list").get(), {
                    revertOnSpill: !0,
                    direction: "vertical",
                    invalid: function(e) {
                        return e.classList.contains("f-rules__item--buttons")
                    },
                    accepts: function(e, t, n) {
                        return t === n
                    }
                }).on("drop", function(e, t, n, a) {
                    var r = $(t).is(".f-rules__list--in") ? "in" : "out";
                    i.timer[r] && clearTimeout(i.timer[r]), i.timer[r] = setTimeout(function() {
                        i.saveRulesOrder(r)
                    }, 3e3)
                })
            },
            toggleForm: function(e) {
                return this.form[e ? "show" : "hide"](75)
            },
            updateSelectActionOptions: function() {
                var e = $(o, this.form).filter(":checked"),
                    t = $(u, this.form),
                    n = $(c, this.form),
                    a = $(p, this.form),
                    a = !("2" === e.val() && "" !== n.val()) || "2" === n.val() && (a.is(":checked") || "0" === $("input[name=start_h]", this.form).val() && "0" === $("input[name=start_m]", this.form).val() && "0" === $("input[name=end_h]", this.form).val() && "0" === $("input[name=end_m]", this.form).val());
                t.closest(".mdc-select").data("MDCSelect").toggleItemDisabled(2, a), a && "2" === t.val() && t.MDComponent({
                    value: "",
                    target: "parents"
                })
            },
            updateDaysColor: function() {
                this.form.toggleClass("rule--autoriser", "0" === $(u, this.form).val())
            },
            razForm: function() {
                $('input[type="text"]', this.form).MDComponent({
                    value: "",
                    target: "parents"
                }), $(o, this.form).MDComponent({
                    checked: !1,
                    target: "parents"
                }), $(c, this.form).MDComponent({
                    value: void 0,
                    target: "parents"
                }), $(u, this.form).MDComponent({
                    value: void 0,
                    target: "parents"
                }), $(p, this.form).MDComponent({
                    checked: !0,
                    target: "parents"
                }), $("input[name^=start_], input[name^=end_]", this.form).MDComponent({
                    value: 0,
                    target: "parents"
                }), $('input[name="days[]"]', this.form).MDComponent({
                    checked: !1,
                    target: "parents"
                })
            },
            deleteRule: function(e, t) {
                var n = s.components.createLoader();
                s.Ajax.requestJSON({
                    url: e,
                    data: {
                        action: "delete",
                        id: t.data("id")
                    },
                    type: "GET",
                    beforeSend: function() {
                        n.appendTo(t)
                    }
                }).registerActionCallback("delete", function(e) {
                    e.success && t.css("width", t.width()).animate({
                        marginLeft: "60%",
                        opacity: 0
                    }, 750, "easeOutQuart", function() {
                        var e = t.closest(".f-rules__list");
                        t.remove(), e.prev(".page__title").find(".rule-nb").text(e.find(".f-rules__item").length)
                    })
                }).launch(function(e) {
                    e.fail(function() {
                        displayFlash("Une erreur est survenue, veuillez réessayer ultérieurement.", "error")
                    }).always(function() {
                        n.remove()
                    })
                })
            },
            saveRulesOrder: function(e) {
                var t, n, a = $(".f-rules__list--" + e),
                    r = a.find(".f-rules__item").map(function(e, t) {
                        return $(t).data("id")
                    }).get();
                r.length && (t = s.components.createLoader(), n = a.find("a.bt-edit").first().prop("href"), s.Ajax.requestJSON({
                    url: n + "?action=reorder",
                    type: "POST",
                    data: {
                        direction: e,
                        rules: r
                    },
                    beforeSend: function() {
                        t.appendTo(a)
                    }
                }).launch(function(e) {
                    e.fail(function() {
                        displayFlash("Une erreur est survenue lors du traitement de votre demande.", "error")
                    }).always(function() {
                        t.remove()
                    })
                }))
            }
        };
    s.servicesIN.filterrules = i
}(Freemwork);
"use strict";
! function(r) {
    function e(e) {
        e.preventDefault();
        var t = $(this).prop("href"),
            n = $(this).data("msg-id"),
            e = $("[data-remodal-id=modal--delete-msg]").clone();
        r.components.showPopin(e, {
            onConfirm: function() {
                r.messagerie.deleteMessage(t, n)
            }
        })
    }

    function t(e) {
        e.preventDefault();
        var t, n = $(this).prop("href"),
            a = $(this).data("action"),
            i = $(this).closest(".notifs__item"),
            o = i.find("input[name=email]");
        "delete" === a ? (t = $("[data-remodal-id=modal--delete-notif]").clone(), (e = $(".popin__content p", t)).html(e.html().replace("{0}", '<span class="bold">' + o.val() + "</span>")), r.components.showPopin(t, {
            onConfirm: function() {
                r.messagerie.deleteNotification(n, o.val(), i)
            }
        })) : "add" === a ? "reportValidity" in o.get(0) && !o.get(0).reportValidity() || r.messagerie.addNotification(n, o.val(), i.find("#report-type").val()) : displayFlash("Action incorrecte.", "error")
    }
    r.messagerie = {
        init: function() {
            $("#messages-list").on("click", "a[data-msg-id]", e), $("#notifs").on("click", ".bt-action", t), r.arrayStatus.init()
        },
        deleteMessage: function(e, t) {
            var n = $("#msg-" + t),
                a = r.components.createLoader();
            r.Ajax.requestJSON({
                url: e,
                data: {
                    id: t,
                    action: "delete"
                },
                type: "GET",
                beforeSend: function() {
                    a.appendTo(n)
                }
            }).registerActionCallback("delete", function(e) {
                e.success && n.css("width", n.width()).animate({
                    marginLeft: "70%",
                    opacity: 0
                }, 750, "easeOutQuart", function() {
                    n.remove()
                })
            }).launch(function(e) {
                e.fail(function() {
                    displayFlash("Une erreur est survenue lors de la suppression du message vocal.", "error")
                }).always(function() {
                    a.remove()
                })
            })
        },
        deleteNotification: function(e, t, n) {
            var a = r.components.createLoader();
            r.Ajax.requestJSON({
                url: e,
                data: {
                    email: t,
                    action: "delete"
                },
                type: "GET",
                beforeSend: function() {
                    n.append(a)
                }
            }).registerActionCallback("delete", function(e) {
                e.success && n.css("width", n.width()).animate({
                    marginLeft: "70%",
                    opacity: 0
                }, 750, "easeOutQuart", function() {
                    n.remove()
                })
            }).launch(function(e) {
                e.fail(function() {
                    displayFlash("Une erreur est survenue, veuillez réessayer ultérieurement.", "error")
                }).always(function() {
                    a.remove()
                })
            })
        },
        addNotification: function(e, t, n) {
            var a = r.components.createLoader(),
                i = $("#notifs").find(".notifs__list + .notifs__item");
            r.Ajax.requestJSON({
                url: e,
                data: {
                    email: t,
                    action: "add",
                    type: n
                },
                type: "GET",
                beforeSend: function() {
                    i.append(a)
                }
            }).registerActionCallback("add", function(e) {
                e.success && i.find("input[name=email]").val("")
            }).launch(function(e) {
                e.fail(function() {
                    displayFlash("Une erreur est survenue, veuillez réessayer ultérieurement.", "error")
                }).always(function() {
                    a.remove()
                })
            })
        }
    }
}(Freemwork);
"use strict";
Freemwork.offre = {
    initFormCommande: function() {
        $(".adding-block, .form-cmdSim button.bt-cancel").on("click", function() {
            $(".adding-block, .form-cmdSim").toggle()
        })
    }
};
"use strict";
Freemwork.migration = {
    init_forfait: function() {
        $(".f-item").on("click", function() {
            $(this).find("input[type=radio]").prop("checked", !0), $(this).closest(".forfaits-list").find(".f-item").removeClass("active").filter(this).addClass("active")
        }), 1 === $(".f-item").length && $(".f-item").click()
    }
};
"use strict";
Freemwork.porta = {
    init: function() {
        $("input[name=msisdn], input[name=rio]").on("input", Freemwork.porta.updateConfirmSubmitState), Freemwork.porta.updateConfirmSubmitState()
    },
    updateConfirmSubmitState: function() {
        var t = $(".form-porta form"),
            n = !1,
            n = "checkValidity" in t.get(0) ? t.get(0).checkValidity() : $("input[name=msisdn]").val() && $("input[name=rio]").val();
        $(".bt-confirm", t).prop("disabled", !n)
    },
    onMsisdnInput: function(t) {
        var n = $(t).val().replace(/([^0-9])/g, "");
        $(t).val(3 < n.length ? n.replace(/(.{2})(?!$)/g, "$1 ") : n)
    },
    onRioInput: function(t) {
        var n = $(t).val().toUpperCase().replace(/([^A-Z0-9+])/g, ""),
            n = /([A-D0-9][0-9])(E|P)?([A-Z0-9+]{1,6})?([A-Z0-9+]{1,3})?/.exec(n);
        null !== n && (n.shift(), n = (n = $.grep(n, function(t) {
            return t
        })).join(" "), $(t).val(n))
    }
};
"use strict";
Freemwork.multiligne = {
    init_forfait: function() {
        $(".f-item").on("click", function(i) {
            $(i.target).is("a") || ($(this).find("input[type=radio]").prop("checked", !0), $(this).closest(".forfaits-list").find(".f-item").removeClass("active").filter(this).addClass("active"))
        })
    },
    init_titulaire: function() {
        Freemwork.form_utils.init_inputBirthDate("form.form_titulaire input[name=birth_date]")
    }
};
"use strict";
Freemwork.regularisation = {
    minimum: 0,
    initBarring: function() {
        var n = this;
        n.minimum = parseFloat($('input[name="credit-min"]').val()), $("#form-regularisation").on("submit", $.proxy(this.validateForm, this)), $('input[name="credit-supp"]').on("input", function() {
            var t = this,
                i = $(t).val(),
                a = n.minimum,
                i = parseFloat(parseFloat(i).toFixed(2));
            isNaN(i) || i < 0 ? i = 0 : a += i = Math.min(i, 1e3 - n.minimum);
            var e = (i = i.toFixed(2)).length;
            "selectionStart" in t && (e = t.selectionStart), $(t).val(i), t.selectionStart = t.selectionEnd = e, $('input[name="credit-total"]').val(a.toFixed(2)), $("#cb-montant").html(n.format_value(a) + "€")
        })
    },
    validateForm: function() {
        var t = $('input[name="credit-supp"]'),
            i = parseFloat(parseFloat(t.val()).toFixed(2));
        if (isNaN(i) || i < 0) return alert("Le montant saisi est invalide. Veuillez saisir un montant positif en euros."), !1;
        var a = i + this.minimum;
        return 1e3 < a ? (t.val(this.format_value(1e3 - this.minimum)).trigger("input"), alert("Le montant à régler ne peux pas dépasser 1 000€."), !1) : ($('input[name="add-credit"]').val(i), $("#cb-montant").html(this.format_value(a) + "€"), !0)
    },
    format_value: function(t) {
        var i = t.toFixed(2).split(".");
        if ("00" === i[1]) return i[0];
        for (; i[1].length < 2;) i[1] += "0";
        return i[0] + "." + i[1]
    }
};